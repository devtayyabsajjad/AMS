{% extends 'base.html' %}

{% block title %}Delete User - AMS{% endblock %}

{% block content %}
<div class="container" style="max-width: 600px;">
    <div class="card">
        <div class="card-header">
            <h1 style="font-size: 1.75rem; color: var(--danger);">
                <i class="fas fa-exclamation-triangle"></i> Delete User
            </h1>
        </div>
        
        <div class="card-body">
            {% if user_obj == request.user %}
            <div class="alert alert-error">
                <strong>Error:</strong> You cannot delete your own account!
            </div>
            <a href="{% url 'view_user' user_obj.id %}" class="btn btn-outline">Go Back</a>
            {% else %}
            <p style="margin-bottom: 1rem;">Are you sure you want to delete this user?</p>
            <div style="background: var(--light); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 2rem;">
                <h3 style="margin-bottom: 0.5rem;">{{ user_obj.get_full_name|default:user_obj.username }}</h3>
                <p style="color: var(--gray); margin-bottom: 0.5rem;">{{ user_obj.email }}</p>
                <span class="badge {% if user_obj.role == 'admin' %}badge-primary{% else %}badge-secondary{% endif %}">
                    {{ user_obj.role|title }}
                </span>
            </div>
            
            <div class="alert alert-error">
                <strong>Warning:</strong> This action cannot be undone. All user data and applications will be permanently deleted.
            </div>
            
            <form method="post">
                {% csrf_token %}
                <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                    <a href="{% url 'view_user' user_obj.id %}" class="btn btn-outline">Cancel</a>
                    <button type="submit" class="btn btn-danger">
                        <i class="fas fa-trash"></i> Delete User
                    </button>
                </div>
            </form>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

