{% extends 'base.html' %}

{% block title %}Apply for {{ accommodation.title }} - AMS{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px;">
    <a href="{% url 'accommodations' %}" class="btn btn-outline" style="margin-bottom: 2rem;">
        <i class="fas fa-arrow-left"></i> Back
    </a>
    
    <div class="card">
        <div class="card-header">
            <h1 style="font-size: 1.75rem; margin-bottom: 0.5rem;">Apply for Accommodation</h1>
            <p style="color: var(--gray);">{{ accommodation.title }}</p>
        </div>
        
        <div class="card-body">
            <div style="background: var(--light); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 2rem;">
                <h3 style="margin-bottom: 1rem; color: var(--primary);">
                    <i class="fas fa-info-circle"></i> Accommodation Details
                </h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    <div>
                        <strong>Type:</strong> {{ accommodation.type }}
                    </div>
                    <div>
                        <strong>Location:</strong> {{ accommodation.location }}
                    </div>
                    <div>
                        <strong>Price:</strong> ${{ accommodation.price }}/month
                    </div>
                    <div>
                        <strong>Bedrooms:</strong> {{ accommodation.bedrooms }}
                    </div>
                </div>
            </div>
            
            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-user"></i> Full Name
                    </label>
                    <input type="text" name="user_name" class="form-control" value="{{ form.user_name.value|default:user.get_full_name }}" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-envelope"></i> Email
                    </label>
                    <input type="email" name="user_email" class="form-control" value="{{ form.user_email.value|default:user.email }}" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-phone"></i> Phone Number
                    </label>
                    <input type="tel" name="user_phone" class="form-control" value="{{ form.user_phone.value|default:user.phone }}" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-comment"></i> Message to Property Manager
                    </label>
                    <textarea name="message" class="form-control" rows="5" placeholder="Tell us about yourself and why you're interested in this accommodation..." required></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; font-size: 1.1rem; padding: 1rem;">
                    <i class="fas fa-paper-plane"></i> Submit Application
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

